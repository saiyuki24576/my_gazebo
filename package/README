このロボットは、Robot.pyにロボットを動かすクラスを書き、test_walkでそのクラスを継承して使っている。
動かし方:
まずパッケージをwsに入れる
(source devel/setup.bash)
roslaunch sim gazebo_ws
rosrun rokusoku test_walk

このプログラムで重要なのは、Robot.pyの中のpub_motor()と、test_walkの中のmath_ang_power()である。

pub_moter()は、指令されたモーターのパワーをgazeboに送り、jointを回転させる関数で、仕組みは簡単にpythonで書くと
現在のモーターの角度を受け取る
if (指令値-モーター角度) が一定以上より大きければ :
    そのままjointに指令値を送り続ける
else 一定以下、つまり(指令値 ≒ モーター角度)だったら:
    すこし待ってから終了
となっている。これを高速で行っている。
しかし、9/26日現在、もし脚となんらかの物体が当たると、モーターが指令値まで行かなくなる(物体に止められる)という問題がある。

math_ang_power(dif_walk)は、角速度を指定して、その速さで脚がsin波で動くというものだ。
計算式は単純で、(角速度 * かかった時間)を動いた距離とし、現在の距離と足しあわせ、その値をsinとしたことだ・。
もし一定の角度で動かしたかったら、動いた距離をリセットする変数を作れば容易にできるだろう。
